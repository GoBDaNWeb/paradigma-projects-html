(()=>{"use strict";var e,t=function(e){document.body.style.overflow=e?"scroll":"hidden",document.body.style.width=e?"auto":"100%"};e=function(){var e,c,n,o;document.querySelectorAll(".modal-trigger").forEach((function(e){e.addEventListener("click",(function(e){var c=this.getAttribute("href").substr(1),n=document.getElementById(c);n.classList&&(n.classList.add("open"),t(!1)),e.preventDefault()}))})),e=document.querySelectorAll(".modal__close"),c=document.querySelectorAll(".modal__wrap"),e.forEach((function(e){e.addEventListener("click",(function(e){this.parentNode.parentNode.classList.remove("open"),t(!0)}))})),c.forEach((function(e){var c=e.parentNode;c.addEventListener("click",(function(n){e.contains(n.target)||(c.classList.remove("open"),t(!0))}))})),function(){var e=document.getElementById("header__menu-icon"),c=document.querySelector(".modal__header-menu"),n=c.querySelector(".modal__header-menu-close");if(e){var o=0;null==e||e.addEventListener("click",(function(){o>=1?(c.classList.remove("open"),t(!0),o--):(c.classList.add("open"),t(!1),o++)}))}null==n||n.addEventListener("click",(function(){c.classList.remove("open"),t(!0)}))}(),n=document.getElementById("catalog-sort-btn"),o=document.querySelector(".catalog__sort-options"),document.addEventListener("click",(function(e){!n.contains(e.target)&&o.classList.remove("open")})),n.addEventListener("click",(function(){o.classList.toggle("open")})),document.querySelectorAll(".catalog__filter-item-param").forEach((function(e){e.addEventListener("click",(function(){e.classList.toggle("active")}))})),document.querySelectorAll(".card").forEach((function(e){var t=e.querySelector(".card__img"),c=t.querySelectorAll("img");if(c.length<2)c[0].style.display="block";else{var n=document.createElement("div");n.setAttribute("class","card__dots"),e.append(n),c.forEach((function(e,t){var c=document.createElement("div");c.setAttribute("class","card__dots-item card__dots-item_".concat(t)),n.append(c)}));var o=n.querySelectorAll(".card__dots-item");c[0].classList.add("active"),o[0].classList.add("active"),t.addEventListener("mousemove",(function(e){var n,a,s=e.clientX-t.getBoundingClientRect().left,i=Math.floor(s/t.offsetWidth*c.length);c.forEach((function(e){e.classList.contains("active")&&e.classList.remove("active")})),o.forEach((function(e){e.classList.contains("active")&&e.classList.remove("active")})),null===(n=o[i])||void 0===n||n.classList.add("active"),null===(a=c[i])||void 0===a||a.classList.add("active")})),t.addEventListener("mouseleave",(function(e){var t,n;c.forEach((function(e){e.classList.contains("active")&&e.classList.remove("active")})),o.forEach((function(e){e.classList.contains("active")&&e.classList.remove("active")})),null===(t=o[0])||void 0===t||t.classList.add("active"),null===(n=c[0])||void 0===n||n.classList.add("active")}))}}))},document.addEventListener("DOMContentLoaded",e)})();